int iType
ref rContainer
ref	rCrosshair

begin Function {rCrosshair}

	; Pass crosshair ref to main function
	if eval ((Goo1.AuxVarGetFlt "*ItemCard_INI" 4 == 1 || IsKeyPressed (Goo1.AuxVarGetFlt "*ItemCard_INI" 0)) && IsFormValid rCrosshair && IsReference rCrosshair)
		iType = rCrosshair.GetType

		; Pass crosshair ref to main function
		if eval rCrosshair.GetIsItem
			Call (CompileScript "ItemCards\stUDFItemCardsMain.gek") rCrosshair

		; Pass container ref to JLM function
		elseif eval iType == 21 || iType == 27 || iType == 42 || iType == 43
			CallAfterFrames 2 (begin function {}
				if eval (rContainer = GetRefVariable "rContainer" (Goo1.AuxVarGetRef "*JLMQuest"))
					Call (CompileScript "ItemCards\stUDFItemCardsJLM.gek") rContainer
				endif
			end)
		endif
	endif

end